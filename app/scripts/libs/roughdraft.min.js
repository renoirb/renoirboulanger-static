/**
 * jQuery RoughDraft.js 0.1.4 
 * Copyright Nick Dreckshage, licensed GPL & MIT
 * https://github.com/ndreckshage/roughdraft.js  
 */
;(function(a){a.RedPen=function(a){this._create(a),this._init()},a.RedPen.settings={author:"bacon",illustrator:"placehold",categories:[],paintColor:[],customIpsum:!1,timeout:5e3,classNameSequencer:!1,customIpsumPath:"/roughdraft.thesaurus.json",calendar:{dayNumber:"j",dayNumberZeros:"d",dayText:"l",dayTextThree:"D",monthNumber:"n",monthNumberZeros:"m",monthText:"F",monthTextThree:"M",yearNumber:"Y",yearNumberTwo:"y"},ajaxType:"GET"},a.RedPen.scopeVar={dataTag:"data-",paragraphType:"p",sentenceType:"s",wordType:"w",currencyType:"$",inputSplit:"/",rangeSplit:"-"},a.RedPen.prototype={_create:function(b){var c=a("[data-draft-repeat]");this.options=a.extend(!0,{},a.RedPen.settings,b),this.scopeVar=a.RedPen.scopeVar,a.extend(a.expr[":"],{parentsFirst:function(b,c,d){return 1>a(b).parents(d[3]).length}}),c.length&&this.scanner(c)},_init:function(){var b=a("[data-draft-text]"),c=a("[data-draft-image]"),d=a("[data-draft-date]"),e=a("[data-draft-number]"),f=a("[data-draft-user]");b.length&&this.bookClub(),c.length&&this.doodler(c),d.length&&this.scheduler(d),e.length&&this.lottery(e),f.length&&this.socialNetwork(f),this.options.classNameSequencer!==!1&&this.sequencer()},sequencer:function(){var b=this.options;className="alfa",self=this,b.classNameSequencer===!0&&(self._sequencerSequence=["alfa","bravo","charlie","delta","echo","foxtrot","golf","hotel","india","juliet","kilo","lima","mike","november","oscar","papa","quebec","romeo","sierra","tango","uniform","victor","xray","zulu"],a("[class$="+className+"]").each(function(){var c=a(this).parent();c.find("[class$="+className+"]").each(function(b){a(this).attr("class",a(this).attr("class").replace(className,self._sequencerNext(b)))})}))},scanner:function(b){var c,d,f,e="draft-repeat",g=0;for(d=b.filter(":parentsFirst([data-draft-repeat])");d.length>0;){c=a(d[0]),f=c.data(e),c.removeAttr(this.scopeVar.dataTag+e);for(var h=0;f-1>h;h++)c.clone(!0,!0).insertAfter(c);if(b=a("[data-draft-repeat]"),d=b.filter(":parentsFirst([data-draft-repeat])"),g>=1e3){console.log("There was an infinite loop error. Please check the loop if you are editing it, or report the error here -- https://github.com/ndreckshage/roughdraft.js/issues/new");break}g++}},bookClub:function(){var d,a=this.options,b=Array(),c="json";switch(a.author){case"lorem":d="http://www.randomtext.me/api/lorem/p-20/40-50",b=["_fixJSON","_fixParagraphs"];break;case"bacon":d="https://baconipsum.com/api/?type=all-meat&paras=20&start-with-lorem=1",c="jsonp",b=["_fixParagraphs"];break;case"hipster":d="http://hipsterjesus.com/api?paras=20&type=hipster-centric&html=false",b=["_fixJSON","_fixParagraphs"];break;default:d="https://baconipsum.com/api/?type=all-meat&paras=20&start-with-lorem=1",c="jsonp",b=["_fixParagraphs"]}a.customIpsum===!0?this._bookStore():d&&c&&b?this._library(d,c,b):console.log('Please ensure that you have specified a correct remote (JSONP) / local (thesaurus.roughdraft.json) library, and have correctly set the "customIpsum" option.')},doodler:function(b){for(var c,e,f,g,h,d="draft-image",i=0;b.length>i;i++)c=a(b[i]),e=c.data(d),"string"==typeof e&&(e=e.split("/"),f=parseInt(e[0]),g=parseInt(e[1]),(isNaN(f)||isNaN(g))&&(f=!1,g=!1),f&&g?(h=this._photoAlbum(f,g),c.attr("src",h).attr("width",f).attr("height",g).removeAttr(this.scopeVar.dataTag+d)):console.log("Please ensure that you specify Width/Height in the format 250/300 for 250px wide by 300px tall"))},scheduler:function(b){for(var c,e,d="draft-date",g=new String,h=0;b.length>h;h++)if(c=a(b[h]),e=c.data(d),"string"==typeof e){e=e.split("/"),dateDataLength=e.length,g="";for(var i=0;e.length>i;i++)g+=this._datePicker(e[i]),i!=e.length-1?g+=" ":"";c.removeAttr(this.scopeVar.dataTag+d),c.text(g)}},lottery:function(b){for(var c,e,g,h,i,d="draft-number",f=new String,j=0;b.length>j;j++)c=a(b[j]),e=c.data(d),e=this._parseNumberFormat(e),f="",e.isCurrency&&(f+="$"),g=this._randomizer(e.digitMin,e.digitMax),h=this._rangeFinder(g),i=this._rangeFinder(e.decimalNumber),f+=this._randomizer(h.min,h.max),e.decimalNumber&&(f+="."+this._randomizer(i.min,i.max)),c.removeAttr(this.scopeVar.dataTag+d),c.text(f)},socialNetwork:function(b){var c=this,d=this.options;a.ajax({url:"http://www.roughdraftjs.com/api/?number=25",dataType:"jsonp",type:d.ajaxType,timeout:d.timeout,success:function(a){c._johnDoe(a,b)},error:function(){console.log("There was an error reaching the JSONP API. Please reload as API is hosted in cloud (PAAS). If issue is persistent, please report on Github")}})},_library:function(b,c,d){var e=this,f=this.options;a.ajax({url:b,dataType:c,type:f.ajaxType,timeout:f.timeout,success:function(a){d.length>0?e._deweyDecimal(a,d):e._speedReader(a)},error:function(){console.log("There was an error reaching the lorem ipsum JSON API. Please confirm the link, or try a different service if they are down.")}})},_bookStore:function(){var b=this.options,c=this;a.ajax({url:b.customIpsumPath,dataType:"json",async:!1,type:b.ajaxType,success:function(a){a[b.author]?c._speedReader(a[b.author]):console.log("Please ensure the requested author is in your custom library and is spelled + formatted correctly.")},error:function(){console.log("The ajax requested could not be completed. Ensure the relative path to your custom library is accurate.")}})},_deweyDecimal:function(a,b){var c=b.splice(0,1)[0];"_fixJSON"==c?this._fixJSON(a,b):"_fixParagraphs"==c&&this._fixParagraphs(a,b)},_fixJSON:function(a,b){var c=this.options,d=!1;switch(c.author){case"lorem":a=a.text_out,d=!0;break;case"hipster":a=a.text;default:}a=JSON.stringify(a),a=this._replaceWith(a,"\\r","<BREAK>"),a=this._replaceWith(a,"\\n","<BREAK>"),d&&(a=this._replaceWith(a,"<p>",""),a=this._replaceWith(a,"</p>","")),a=JSON.parse(a),a=a.split("<BREAK>"),a=this._removeEmptyIndexes(a),b.length>0?this._deweyDecimal(a,b):this._speedReader(a)},_fixParagraphs:function(b,c){for(var f,g,d=this,e=Array(),h=0;b.length>h;h++)g=b[h],g=this._replaceWith(g,"...","<ELLIPSES>"),g=g.split("."),g=this._removeEmptyIndexes(g),f=Array(),a.each(g,function(a,b){b=d._replaceWith(b,"<ELLIPSES>","..."),b+=".",b=b.replace(/(^\s+|\s+$)/g,""),f.push(b)}),e.push(f);b=e,c.length>0?this._deweyDecimal(b,c):this._speedReader(b)},_speedReader:function(b){for(var c,g,h,i,d=a("[data-draft-text]"),e="draft-text",f=this.scopeVar,j=0;d.length>j;j++)c=a(d[j]),g=c.data(e),"string"==typeof g&&(g=g.split("/"),h=parseInt(g[0]),i=g[1].toLowerCase(),(isNaN(h)||"string"!=typeof i)&&(h=!1,i=!1),h&&i?(c.removeAttr(f.dataTag+e),this._inceptionLevelOne(c,b,h,i)):console.log("Please ensure that you specify Paragraph/Sentence/Word in the format 3/S, for 3 sentences"))},_inceptionLevelOne:function(a,b,c,d){var k,l,e=b.length,f=Array(),g=Array(),h=new String,j=this.scopeVar;if(d==j.paragraphType){for(;c>0;)k=this._randomizer(e),l=b[k],h=c>1?"<br/><br/>":"",l=l.join(" ")+h,g=g.concat(l),c--;g=g.join(""),a.html(g)}else{for(i=0;e>i;i++)l=b[i],f=f.concat(l);this._inceptionLevelTwo(a,f,c,d)}},_inceptionLevelTwo:function(a,b,c,d){var e=this.scopeVar,f=b.length,g=this._randomizer(f);if(d==e.sentenceType){var h;h=this._inceptionLevelTwoKick(c,b,g),a.text(h)}else if(d=e.wordType){var k,i=b[g].split(" "),j=0;k=this._inceptionLevelTwoKick(c,i,j),a.text(k)}},_inceptionLevelTwoKick:function(a,b,c){for(var d=a,e=b.length,f=new String,g=new String;a>0;)a!=d&&(c++,c>=e&&(c=0)),f=b[c],e>a&&(f+=" "),g+=f,a--;return g},_photoAlbum:function(a,b){var j,k,l,d=this.options.illustrator,e="placehold",f="placekitten",g="placedog",h="baconmockup",i="lorempixel";switch(d){case e:break;case f:break;case g:break;case h:break;case i:break;default:d=e}return j=this._waterColor(d),k=this._category(d),d==f?l="http://placekitten.com/"+j+a+"/"+b:d==g?l="http://placedog.com/"+j+a+"/"+b:d==h?l="http://baconmockup.com/"+a+"/"+b:d==i?(l="http://lorempixel.com/"+j+a+"/"+b,l+=k?"/"+k:""):l="http://placehold.it/"+a+"x"+b+j,l},_waterColor:function(a){var g,b=this.options,c=Array(),d="placekitten",e="placedog",f="lorempixel";return c=a==d||a==e||a==f?[!1,"g"]:b.paintColor.length?b.paintColor:["453f35","e7cead","b5ab94","eba434","64886c","b15c3a","b1956c"],g=c.length,g=this._randomizer(g),g=c[g],g?a==d||a==e||a==f?g+="/":g="/"+g+"/fff":g="",g},_category:function(a){var b=this.options,c=b.categories,e="lorempixel",f="";if(1>c.length||"random"===c)switch(a){case e:c=["abstract","animals","business","cats","city","food","nightlife","fashion","people","nature","sports","technics","transport"];break;default:}return c.length>0&&(f=this._randomizer(c.length),f=c[f]),f},_datePicker:function(a){var b=this.options.calendar,c=new Date,d=!1;if(a.split("-").length>1&&(a=a.split("-"),"r"==a[1].toLowerCase()&&(d=!0),a=a[0]),a==b.dayNumberZeros||a==b.dayTextThree||a==b.dayNumber||a==b.dayText)if(a==b.dayTextThree||a==b.dayText||a==b.dayTextThree){switch(c=c.getDay(),d===!0&&(c=this._randomizer(7)),c){case 0:c="Sunday";break;case 1:c="Monday";break;case 2:c="Tuesday";break;case 3:c="Wednesday";break;case 4:c="Thursday";break;case 5:c="Friday";break;case 6:c="Saturday";break;default:}a==b.dayTextThree&&(c=c.substr(0,3))}else c=c.getDate(),d===!0&&(c=this._randomizer(28)+1),a==b.dayNumberZeros&&10>c&&(c="0"+(""+c));else if(a==b.monthNumberZeros||a==b.monthTextThree||a==b.monthText||a==b.monthNumber)if(c=c.getMonth(),d===!0&&(c=this._randomizer(12)),a==b.monthText||a==b.monthTextThree){switch(c){case 0:c="January";break;case 1:c="February";break;case 2:c="March";break;case 3:c="April";break;case 4:c="May";break;case 5:c="June";break;case 6:c="July";break;case 7:c="August";break;case 8:c="September";break;case 9:c="October";break;case 10:c="November";break;case 11:c="December";break;default:}a==b.monthTextThree&&(c=c.substr(0,3))}else a==b.monthNumberZeros?c="0"+(""+(c+1)):c+=1;else c=c.getFullYear(),d===!0&&(c=this._randomizer(25),c=10>c?"0"+(""+c):""+c,c="20"+c),a==b.yearNumberTwo&&(c=(""+c).substr(2,3));return c},_parseNumberFormat:function(a){var c,d,b=this.scopeVar,e=Object();return a=""+a,"string"==typeof a&&(c=a.split(b.inputSplit),e={isCurrency:c[0]===b.currencyType,digitMin:1,digitMax:1,decimalNumber:0},e.isCurrency&&(c=c.slice(1,3)),d=c[0].split(b.rangeSplit),e.digitMin=+d[0]>0?+d[0]:1,e.digitMax=+d[1]||e.digitMin,e.decimalNumber=c[1]?+c[1]:0),a=e},_johnDoe:function(b,c){var d,f,j,e="draft-user",g=this.scopeVar;f=b.length;for(var k=0;c.length>k;k++)if(d=a(c[k]),userRequest=d.data(e),record=b[this._randomizer(f)],"string"==typeof userRequest){switch(userRequest){case"full":j=record.user.first+" "+record.user.last;break;case"first":j=record.user.first;break;case"last":j=record.user.last;break;case"email":j=record.user.email;break;case"username":j=record.user.username;break;case"twitter":j="@"+record.user.username.split(".")[0];break;case"phone":j=record.user.phone;break;case"address":j=record.place.address;break;case"city":j=record.place.city;break;case"state":j=record.place.state;break;case"zip":j=record.place.zip;break;case"country":j=record.place.country;break;default:j=""}d.removeAttr(g.dataTag+e),d.html(j)}},_sequencerSequence:[],_sequencerNext:function(a){var b=a++,c=this;return b>=c._sequencerSequence.length&&(b=0),c._sequencerSequence[b]},_randomizer:function(a,b){var c;return c=b?Math.random()*(b+1-a)+a:Math.random()*a,Math.floor(c)},_rangeFinder:function(a){var d,e,b=1,c=1,f=Object();return d=Math.pow(10,a-1),e=Math.pow(10,a)-1,b*=d,c*=e,f={min:b,max:c}},_removeEmptyIndexes:function(b){return a.grep(b,function(a){return a})},_replaceWith:function(a,b,c){for(var d=a.indexOf(b);"number"==typeof d&&d>0;)a=a.replace(b,c),d=a.indexOf(b);return a}},a.fn.roughDraft=function(b){return this.each(function(){a.data(this,"roughdraft",new a.RedPen(b,this))})}})(jQuery,window,document);